(()=>{"use strict";var t={882:(t,e,n)=>{n.d(e,{Z:()=>F});var i=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i,s=function(t){return"string"==typeof t||t instanceof String},o=function(t){return s(t)?t.trim():""};const r={trim:o,isNan:function(t){return"number"==typeof t&&isNaN(t)},isNil:function(t){return null==t},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},size:function(t){return t&&Array.isArray(t)&&t.length?t.length:0},isString:s,splitSentences:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/\.+/g,".|").replace(/\?/g,"?|").replace(/\!/g,"!|").split("|").map((function(t){return o(t)})).filter(Boolean)},validateLocale:function(t){return"string"==typeof t&&i.test(t)}};var a={};function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.browserSupport="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,this.synthesisVoice=null}var e,n,i;return e=t,n=[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,i){t.browserSupport||i("Your browser does not support Speech Synthesis");var s=(0,r.isNil)(e.listeners)?{}:e.listeners,o=!!(0,r.isNil)(e.splitSentences)||e.splitSentences,a=(0,r.isNil)(e.lang)?void 0:e.lang,c=(0,r.isNil)(e.volume)?1:e.volume,u=(0,r.isNil)(e.rate)?1:e.rate,l=(0,r.isNil)(e.pitch)?1:e.pitch,h=(0,r.isNil)(e.voice)?void 0:e.voice;Object.keys(s).forEach((function(t){var e=s[t];"onvoiceschanged"!==t&&(speechSynthesis[t]=function(t){e&&e(t)})})),t._loadVoices().then((function(e){s.onvoiceschanged&&s.onvoiceschanged(e),!(0,r.isNil)(a)&&t.setLanguage(a),!(0,r.isNil)(h)&&t.setVoice(h),!(0,r.isNil)(c)&&t.setVolume(c),!(0,r.isNil)(u)&&t.setRate(u),!(0,r.isNil)(l)&&t.setPitch(l),!(0,r.isNil)(o)&&t.setSplitSentences(o),n({voices:e,lang:t.lang,voice:t.voice,volume:t.volume,rate:t.rate,pitch:t.pitch,splitSentences:t.splitSentences,browserSupport:t.browserSupport})})).catch((function(t){i(t)}))}))}},{key:"_fetchVoices",value:function(){return new Promise((function(t,e){setTimeout((function(){var n=speechSynthesis.getVoices();return(0,r.size)(n)>0?t(n):e("Could not fetch voices")}),100)}))}},{key:"_loadVoices",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._fetchVoices().catch((function(n){if(0===e)throw n;return t._loadVoices(e-1)}))}},{key:"hasBrowserSupport",value:function(){return this.browserSupport}},{key:"setVoice",value:function(t){var e,n=speechSynthesis.getVoices();if((0,r.isString)(t)&&(e=n.find((function(e){return e.name===t}))),(0,r.isObject)(t)&&(e=t),!e)throw"Error setting voice. The voice you passed is not valid or the voices have not been loaded yet.";this.synthesisVoice=e}},{key:"setLanguage",value:function(t){if(t=t.replace("_","-"),!(0,r.validateLocale)(t))throw"Error setting language. Please verify your locale is BCP47 format (http://schneegans.de/lv/?tags=es-FR&format=text)";this.lang=t}},{key:"setVolume",value:function(t){if(t=parseFloat(t),!(!(0,r.isNan)(t)&&t>=0&&t<=1))throw"Error setting volume. Please verify your volume value is a number between 0 and 1.";this.volume=t}},{key:"setRate",value:function(t){if(t=parseFloat(t),!(!(0,r.isNan)(t)&&t>=0&&t<=10))throw"Error setting rate. Please verify your volume value is a number between 0 and 10.";this.rate=t}},{key:"setPitch",value:function(t){if(t=parseFloat(t),!(!(0,r.isNan)(t)&&t>=0&&t<=2))throw"Error setting pitch. Please verify your pitch value is a number between 0 and 2.";this.pitch=t}},{key:"setSplitSentences",value:function(t){this.splitSentences=t}},{key:"speak",value:function(t){var e=this;return new Promise((function(n,i){var s=t.text,o=t.listeners,a=void 0===o?{}:o,c=t.queue,u=void 0===c||c,l=(0,r.trim)(s);(0,r.isNil)(l)&&n(),!u&&e.cancel();var h=[],p=e.splitSentences?(0,r.splitSentences)(l):[l];p.forEach((function(t,s){var o=s===(0,r.size)(p)-1,c=new SpeechSynthesisUtterance;e.synthesisVoice&&(c.voice=e.synthesisVoice),e.lang&&(c.lang=e.lang),e.volume&&(c.volume=e.volume),e.rate&&(c.rate=e.rate),e.pitch&&(c.pitch=e.pitch),c.text=t,Object.keys(a).forEach((function(t){var e=a[t];c[t]=function(s){e&&e(s),"onerror"===t&&i({utterances:h,lastUtterance:c,error:s}),"onend"===t&&o&&n({utterances:h,lastUtterance:c})}})),h.push(c),speechSynthesis.speak(c)}))}))}},{key:"pending",value:function(){return speechSynthesis.pending}},{key:"paused",value:function(){return speechSynthesis.paused}},{key:"speaking",value:function(){return speechSynthesis.speaking}},{key:"pause",value:function(){speechSynthesis.pause()}},{key:"resume",value:function(){speechSynthesis.resume()}},{key:"cancel",value:function(){speechSynthesis.cancel()}}],n&&c(e.prototype,n),i&&c(e,i),t}();const l=u;function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e){d(t,e),e.add(t)}function f(t,e,n){d(t,e),e.set(t,n)}function d(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,b(t,e,"get"))}function y(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function g(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,b(t,e,"set"),n),n}function b(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var w=new WeakMap,m=new WeakMap,S=new WeakMap,_=new WeakMap,T=new WeakMap,k=new WeakMap,x=new WeakMap,A=new WeakMap,B=new WeakSet,O=new WeakSet,j=new WeakSet,E=new WeakSet,C=function(){function t(e,n,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,E),p(this,j),p(this,O),p(this,B),f(this,w,{writable:!0,value:""}),f(this,m,{writable:!0,value:{}}),f(this,S,{writable:!0,value:[]}),f(this,_,{writable:!0,value:""}),f(this,T,{writable:!0,value:""}),f(this,k,{writable:!0,value:""}),f(this,x,{writable:!0,value:""}),f(this,A,{writable:!0,value:[]}),g(this,m,e),g(this,S,n),g(this,k,i),g(this,x,s),y(this,B,P).call(this),y(this,O,L).call(this,s,i)}var e,n,i;return e=t,n=[{key:"isAndroid",value:function(){var t=navigator.userAgent.toLowerCase().indexOf("android")>-1;return!!t}},{key:"getBrowser",value:function(){return v(this,w)}},{key:"getLanguage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v(this,_),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v(this,T);return v(this,T)===e||y(this,O,L).call(this,t,e),v(this,T)}},{key:"getVoice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v(this,_),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v(this,T);return v(this,_)===t||y(this,O,L).call(this,t,e),v(this,_)}}],n&&h(e.prototype,n),i&&h(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function P(){var t=this,e=v(this,m).browser;Object.keys(e).map((function(n){e[n]&&g(t,w,n.replace("is_",""))}))}function L(t,e){var n,i="",s=t||v(this,x),o=e||v(this,k),r=y(this,j,R).call(this,o),a=y(this,E,z).call(this,r);if(a.length>1)for(var c=0;c<a.length;c++){if(i=a[c].lang,n=a[c].name,s===a[c].name){g(this,_,n),g(this,T,i);break}g(this,_,n),g(this,T,i)}else g(this,_,a[0].name),g(this,T,a[0].lang)}function R(t){return null!=t.indexOf("-")?t.split("-")[0]:null!=t.indexOf("_")?t.split("_")[0]:t}function z(t){var e=this;return g(this,A,[]),Object.values(v(this,S)).map((function(n){var i=new RegExp(t,"gi");null!==n.lang.match(i)&&n.name&&v(e,A).push(n)})),v(this,A)}var M=n(179);function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W,F=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.TTS;N(this,t),I(this,"TTS",window.TTS),I(this,"browser",null),I(this,"speech",null),I(this,"speechSynthesis",window.speechSynthesis),I(this,"utterence",new SpeechSynthesisUtterance),I(this,"speechRecognitionIsActive",!0),I(this,"speechRecognition",window.speechRecognition||window.webkitSpeechRecognition),I(this,"recordStatus","record"),I(this,"listenStatus","listen"),I(this,"noticeClass","tta_notice"),I(this,"cofiguration",{}),I(this,"timer",null),I(this,"buttonId",null),I(this,"speakButton",null),I(this,"content",null),I(this,"ttsListeningSettings",null),I(this,"languages",[]),I(this,"voices",{}),I(this,"voice","English United Kingdom"),I(this,"language","en_GB"),I(this,"buttonTextArr",null),I(this,"splittedSentances",""),I(this,"isCanceled",!1),I(this,"shouldCancelTimer",null),I(this,"callBackAfterEnd",null),I(this,"splitSentences",null),this.TTS=s,this.content=n||window.TTS.contents[e],this.splittedSentances=(0,M.jR)(n),this.buttonId=e,this.buttonTextArr=this.TTS.settings.textArr,this.speakButton=i||document.getElementById(e),this.ttsListeningSettings=this.TTS.settings.listening,this.speech=new l,this.splitSentences=M.jR}var e,n,i;return e=t,n=[{key:"getData",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t&&(window.TextToSpeech=this),this}},{key:"playButtonText",value:function(){return this.buttonTextArr.listen_text}},{key:"playButtonContent",value:function(){return'<div class="tts_button"><span class="dashicons dashicons-controls-play"></span> <span> '+this.playButtonText()+"<span></span></span></div>"}},{key:"replayButtonText",value:function(){return this.buttonTextArr.replay_text}},{key:"replayButtonContent",value:function(){return'<div class="tts_button"><span class="dashicons dashicons-image-rotate"></span> <span> '+this.replayButtonText()+"<span></span></span></div>"}},{key:"pauseButtonText",value:function(){return this.buttonTextArr.pause_text}},{key:"pauseButtonContent",value:function(){return'<div class="tts_button"><span class="dashicons dashicons-controls-pause"></span> <span> '+this.pauseButtonText()+"<span></span></span></div>"}},{key:"resumeButtonText",value:function(){return this.buttonTextArr.resume_text}},{key:"resumeButtonContent",value:function(){return'<div class="tts_button"><span class="dashicons dashicons-controls-play"></span> <span> '+this.buttonTextArr.resume_text+"<span></span></span></div>"}},{key:"recordStartButtonContent",value:function(){return'<span class="dashicons dashicons-controls-volumeoff"></span> '+this.buttonTextArr.start_text}},{key:"recordStopButtonConten",value:function(){return'<span class="dashicons dashicons-controls-volumeon"></span> '+this.buttonTextArr.stop_text}},{key:"displayApiMissing",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="",i="";if(this.speechRecognitionIsActive||(n+="Text To Audio: Please enable speechRecognition"),this.speechSynthesis||(n+=n?" , speechSynthesis.":"Text To Audio: Please enable speechSynthesis."),t){var s=document.getElementById(t).previousSibling;s?(n+=' Click here to <a href="https://wordpress.org/plugins/text-to-audio/#how%20to%20enable%20%60%60speechsynthesis%60%60%20on%20firefox%3F" target="_blank">enable</a>',s.style.display="block",s.innerHTML=n,setTimeout((function(){document.querySelector(".tta_notice").style.display="none",s.innerHTML=""}),5e3)):(i+=ttsObj.admin_url+"admin.php?page=text-to-audio#/docs",n+="\nFollow this link to enable: \n".concat(i),alert(n))}else e||"?page=text-to-audio"===location.search&&"#/customize"===location.hash?i+=ttsObj.admin_url+"admin.php?page=text-to-audio#/docs":i+="https://wordpress.org/plugins/text-to-audio/#how%20to%20enable%20%60%60speechsynthesis%60%60%20on%20firefox%3F",n+="\nFollow this link to enable: \n".concat(i),alert(n);throw new Error(n)}},{key:"displayButtonText",value:function(t){ttsObj.is_pro_license_active||("listen"===t?(this.speakButton.innerHTML=this.replayButtonContent(),this.speakButton.setAttribute("title","Text To Audio : "+this.replayButtonText())):"pause"===t?(this.speakButton.innerHTML=this.pauseButtonContent(),this.speakButton.setAttribute("title","Text To Audio : "+this.pauseButtonText())):"resume"===t&&(this.speakButton.innerHTML=this.resumeButtonContent(),this.speakButton.setAttribute("title","Text To Audio : "+this.resumeButtonText())))}},{key:"speak",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content;this.speech.hasBrowserSupport()?(t.setLanguage(this.browser.getLanguage()),t.setVoice(this.browser.getVoice()),t.speak({text:n,queue:!1,listeners:{onstart:function(t){console.log("Start utterance"),e.utterence=t,wp.hooks.doAction("tts_high_light_text",t.currentTarget.text,e.buttonId,M.jR)},onend:function(t){console.log("End utterance")},onpause:function(t){console.log("Pause utterance")},onresume:function(t){console.log("Resume utterance")},onboundary:function(t){}}}).then((function(n){e.speech.speaking()||(console.log("End utterance "+e.speech.speaking()),e.listenStatus="listen",e.displayButtonText(e.listenStatus),e.content=window.ttsContent,e.splittedSentances=(0,M.jR)(window.ttsContent),t.cancel()),console.log("Success !",n),e.callBackAfterEnd&&e.callBackAfterEnd(),e.browser.isAndroid()||(clearTimeout(e.timer),e.timer=null,clearTimeout(e.shouldCancelTimer),e.shouldCancelTimer=null),window.sessionStorage.setItem("tts_paused_by_intention",!1)})).catch((function(t){console.error("An error occurred :",t)})),this.listenStatus="pause",this.displayButtonText(this.listenStatus),this.browser.isAndroid()||(this.timer=setTimeout((function e(){t.pause(),console.log(t),setTimeout((function(){t.resume()}),0),this.timer=setTimeout(e,1e4),t.speaking()||(clearTimeout(this.timer),this.timer=null)}),1e4))):this.displayApiMissing("tts__listent_content_"+this.buttonId)}},{key:"pause",value:function(t){var e=this;this.browser.isAndroid()?(t.cancel(),this.isCanceled=!0):(t.pause(),this.shouldCancelTimer=setInterval((function(){t.cancel(),e.isCanceled=!0}),7e3));var n=this.splittedSentances.indexOf(this.utterence.target.text);this.splittedSentances=this.splittedSentances.slice(n),this.content=this.splittedSentances.join(" "),this.listenStatus="resume",this.displayButtonText(this.listenStatus),this.browser.isAndroid()||clearTimeout(this.timer)}},{key:"resume",value:function(t){this.isCanceled?(this.speak(t,this.content),clearTimeout(this.shouldCancelTimer),this.browser.isAndroid()||clearTimeout(this.timer)):(t.resume(),clearTimeout(this.shouldCancelTimer)),this.listenStatus="pause",this.displayButtonText(this.listenStatus),this.browser.isAndroid()||(this.timer=setTimeout((function e(){t.pause(),console.log(t),setTimeout((function(){t.resume()}),0),this.timer=setTimeout(e,1e4),t.speaking()||(clearTimeout(this.timer),this.timer=null)}),1e4))}},{key:"_init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.callBackAfterEnd=e,void 0!==this.ttsListeningSettings&&this.speech.init({volume:this.ttsListeningSettings.tta__listening_volume?this.ttsListeningSettings.tta__listening_volume:1,rate:this.ttsListeningSettings.tta__listening_rate?this.ttsListeningSettings.tta__listening_rate:1,pitch:this.ttsListeningSettings.tta__listening_pitch?this.ttsListeningSettings.tta__listening_pitch:2,splitSentences:!0,listeners:{onvoiceschanged:function(t){}}}).then((function(e){t.voices=e.voices,t.browser=new C(ttsObj,e.voices,t.ttsListeningSettings.tta__listening_lang,t.ttsListeningSettings.tta__listening_voice),t._prepareSpeakButton(t.speech),window.sessionStorage.setItem("tts_paused_by_intention",!1)})).catch((function(t){console.error("An error occured while initializing : ",t)}))}},{key:"_prepareSpeakButton",value:function(t){var e=this;"listen"==this.listenStatus?this.speak(t):"pause"==this.listenStatus?this.pause(t):"resume"==this.listenStatus&&this.resume(t),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&"pause"===e.listenStatus&&(e.pause(t),e.callBackAfterEnd&&e.callBackAfterEnd()),"visible"===document.visibilityState&&"resume"===e.listenStatus&&(JSON.parse(window.sessionStorage.getItem("tts_paused_by_intention"))?window.sessionStorage.setItem("tts_paused_by_intention",!1):e.resume(t),e.callBackAfterEnd&&e.callBackAfterEnd())}))}}],n&&V(e.prototype,n),i&&V(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();window.TextToSpeech=F,W=setTimeout((function(){window.hasOwnProperty("ttsObj")&&ttsObj.is_dashboard&&(!function(){var t={listening:{tta__listening_lang:"en-US",tta__listening_voice:"Microsoft David - English (United States)",tta__listening_pitch:"1",tta__listening_rate:"1",tta__listening_volume:"1"},cssClass:"",btnStyle:"background-color:#ee6d6d;color:#ffffff;width:100%;border:0;display:block;border-radius:4px;text-decoration:none;cursor:pointer;",textArr:{listen_text:"Listen",pause_text:"Pause",resume_text:"Resume",replay_text:"Replay",start_text:"Start",stop_text:"Start"},customCSS:"",shouldDisplayIcon:"inline-block"},e=1,n="";if(window.hasOwnProperty("TTS")){window.TTS.contents[e-1]!==n&&(window.TTS.contents[e]=n)}else window.TTS={},window.TTS.contents={},window.TTS.contents[e]=n;window.TTS.hasOwnProperty("settings")||(window.TTS.settings=t,window.TTS.settings.readingTime=1)}(),clearTimeout(W),W=null)}),1e3)},179:(t,e,n)=>{n.d(e,{Vh:()=>o,jR:()=>s});var i=function(t){return function(t){return"string"==typeof t||t instanceof String}(t)?t.trim():""},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/\.+/g,".|").replace(/\?/g,"?|").replace(/\!/g,"!|").split("|").map((function(t){return i(t)})).filter(Boolean)},o=function(t,e,n){return'<button id="tts__listent_content_'.concat(t,'" class="tts__listent_content  ').concat(e,'" type="button" title="Text To Audio:  Tap to listen post."><div class="tts_button"><span class="dashicons dashicons-controls-play"></span><span>').concat(ttsObj.buttonTextArr.listen_text,"<span></div> </button>")}}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=n(882),e=n(179);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function s(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){var e="function"==typeof Map?new Map:void 0;return u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return l(t,arguments,f(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),p(i,t)},u(t)}function l(t,e,n){return l=h()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var s=new(Function.bind.apply(t,i));return n&&p(s,n.prototype),s},l.apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=new WeakSet,g=function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(m,n);var i,o,u,l,g,w=(i=m,o=h(),function(){var t,e=f(i);if(o){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return a(this,t)});function m(){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),d(c(n=w.call(this)),y),v(c(n),"speech",null),v(c(n),"isProLicenseActive",!1),n.isProLicenseActive=window.ttsObj.is_pro_license_active;var i=n.attachShadow({mode:"open"});return setTimeout((function(){if(window.hasOwnProperty("TTS"))for(var o=window.TTS.contents,r=window.TTS.settings,a=Object.keys(o),u=function(){var a=h[l];if(a==n.getAttribute("data-id")){var u=document.createElement("div");u.setAttribute("class","wrapper"),u.innerHTML=(0,e.Vh)(a,r.cssClass,n.isProLicenseActive),n.addEventListener("click",(function(e){var n=s(u.children)[0];if(null!=this.speech&&"listen"==this.speech.listenStatus&&(this.speech=null),null===this.speech){var i=new t.Z(a,o[a],n,window.TTS);i._init(),this.speech=i.getData(),this.speech.callBackAfterEnd=this.callBackAfterEnd}else this.speech=this.speech.getData(),"pause"==this.speech.listenStatus?(this.speech.pause(this.speech.speech),window.sessionStorage.setItem("tts_paused_by_intention",!0)):"resume"==this.speech.listenStatus&&this.speech.resume(this.speech.speech)}));var p=document.createElement("style");return p.textContent="\n                        #tts__listent_content_".concat(a,".tts__listent_content{ ").concat(r.btnStyle,"height:30px; }\n                        #tts__listent_content_").concat(a,".tts__listent_content:hover{ ").concat(r.btnStyle,"height:30px; }\n                        // #tts__listent_content_").concat(a,".tts__listent_content .text-position{ position: absolute;padding-top: 2px; }\n                        // #tts__listent_content_").concat(a,".tts__listent_content .dashicons{ display:").concat(r.shouldDisplayIcon,";line-height:1;font-size:25px;height:25px;width:25px; }\n                        ").concat(function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}(c(n),y,b).call(c(n),r.customCSS),"\n                    "),i.appendChild(p),i.appendChild(u),"break"}},l=0,h=a;l<h.length;l++){if("break"===u())break}}),1e3),n}return u=m,(l=[{key:"callBackAfterEnd",value:function(){"listen"===this.listenStatus&&this.displayButtonText()}}])&&r(u.prototype,l),g&&r(u,g),Object.defineProperty(u,"prototype",{writable:!1}),m}(u(HTMLElement));function b(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}customElements.define("tts-play-button",g)})()})();